# 리눅스 서버 재설치
- 현재 centos7 OS를 사용해 리눅스 서버를 구축했었는데, 갑자기 3일간 서버가 지속적으로 다운되었다.
- 이유가 뭘까 아무리 분석을 해봐도 강제 재시작이었다.. 쉬엣...
- 그래서 unbuntu 20.04 LST 버전으로 데이터 백업 후 한번 변경하고 그래픽을 통해서 10시간 정도 모니터링을 해봤다.

## Centos7 지속적인 재시작
- 8~10시간 주기로 지속적으로 서버가 재부팅 되었다. 이유를 찾기위해 로그를 전부 뒤져보았지만?! 어떤 이유도 없었다
- 혹시나 해킹을 당했나 싶어 포트를 전부 닫았다. 그래도 다운이 되었다 ..........................!?
- 그래서 점검을 해보았다.
1. 하드웨어 점검
    - 하드웨어들이 혹시나 결함 문제가 있나 싶어서 전체 재조립을 진행하였다.
    - 메모리도 2666, 3200이 다른 버전으로 결합되어 있는걸 3200을 전부 제거하였다.
2. 소프트웨어 점검
    - 최소한 데이터베이스, 레디스만 켜두었다.
3. 모니터링
    - CPU/Memory 사용량을 모니터링

## Cento7 -> unbuntu 20.04L GUI 버전
- 리눅스 OS을 다른버전으로 재설치를 진행하고, 이번엔 온도까지 GUI를 통해서 진행을 하기로 마음을 먹었다.
1. 하드웨어 점검
2. 소프트웨어 점검
3. 하드웨어 온도 점검
4. 모니터링
위 4가지 순으로 진행을 하는 찰라!? 그래픽 카드 온도가 내려가지 않는걸 확인했다.
- 문제는 하드웨어 문제여서 자동으로 이유도 없이 재시작이 되는거였다. 그래서 확인해보니 그래픽카드 팬이 안돌아가는게 문제였다.
- 무려 2틀이라는 시간을 해멨는데 하드웨어 문제였다니.. 저번에 해킹당했을때 백도어 설치만 생각하다보니 생각이 짧아진게 문제였다.
- 혹시나해서 그래픽카드, CPU 서멀구리스를 재도포하고 다시 실행하였더니, 온도도 잘잡히고 정상동작을 한다.

## 리눅스 서버 재시작시 점검사항
1. 하드웨어 결합
2. 하드웨어 온도
3. 소프트웨어 또는 백도어 설치 여부(해킹)
4. 이후 모니터링
- 아무 이유없는 재시작은 95% 하드웨어 문제인거 같다. 온도가 일정이상 되면 자동으로 재시작을 해버리는건 처음알았다.
- 또한 파워가 문제 생겼을때도 재시작이 일어나는데 이때는 좀 하드웨어가 다르다
1. 온도 이상 문제일 경우, 팬이 급격히 돌아가면서 모니터 출력이 멈춘다.
2. 파워 이상 문제일 경우, 갑자기 그냥 재시작을 하더니 무한 재시작을 한다.
3. 하드웨어 잘못 결합된 경우, 무한 재시작 또는 삐~ 소리가 난다.
